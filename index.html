<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Proof of concept: Vector Logic vs DOM rendering performance">
  <meta name="theme-color" content="#000000">
  <title>Vector Logic Manifesto | Math vs Markup</title>
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='75' font-size='75'>üìê</text></svg>">
  
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <!-- Hidden Sandbox for Benchmark (Real DOM Injection) -->
  <div id="benchmark-sandbox" style="position: absolute; top: -9999px; left: -9999px; visibility: hidden; pointer-events: none;"></div>

  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <h1 class="header-title">
        <span class="mono">Vector Logic Manifesto</span>
        <span class="subtitle">Math vs Markup</span>
      </h1>
      <div class="header-meta">
        <span class="badge">Diia.AI Contest 2025</span>
        <span class="badge">010io</span>
      </div>
    </div>
  </header>

  <!-- Main Dashboard -->
  <main class="dashboard">
    <!-- Control Panel -->
    <section class="control-panel">
      <h2>‚öôÔ∏è Benchmark Controls</h2>
      
      <div class="controls-grid">
        <!-- Scale Slider -->
        <div class="control-group">
          <label for="scale-slider">
            –ú–∞—Å—à—Ç–∞–±: <span id="scale-value">1.0x</span>
          </label>
          <input 
            type="range" 
            id="scale-slider" 
            min="0.5" 
            max="3" 
            step="0.1" 
            value="1"
            class="slider"
          >
        </div>
        
        <!-- Benchmark Button -->
        <button id="run-benchmark" class="btn-primary">
          üöÄ Run Benchmark
        </button>
        
        <!-- Stress Test -->
        <button id="stress-test" class="btn-secondary">
          ‚ö° Stress Test (100x)
        </button>
        
        <!-- Export Test -->
        <button id="export-test" class="btn-secondary">
          üì¶ Test Exports
        </button>
        
        <!-- Chaos Mode -->
        <button id="chaos-mode" class="btn-secondary">
          üå™Ô∏è Start Chaos (10K Particles)
        </button>
      </div>
    </section>

    <!-- Chaos Arena (Split Screen) -->
    <section class="chaos-arena" id="chaos-arena" style="display: none;">
      <h2>‚ö° CHAOS MODE: DOM vs Vector Performance</h2>
      
      <div class="chaos-controls" style="text-align: center; margin-bottom: 1rem; background: rgba(255,255,255,0.05); padding: 10px; border-radius: 12px; display: inline-block;">
        <label for="particle-count" style="margin-right: 10px; font-weight: bold;">Particles: <span id="particle-value" style="color: var(--diia-blue);">2000</span></label>
        <input type="range" id="particle-count" min="100" max="20000" step="100" value="2000" style="vertical-align: middle; cursor: pointer;">
      </div>
      
      <div class="arena-grid">
        <!-- DOM Arena -->
        <div class="arena-panel">
          <div class="arena-header">
            <h3>üìÑ DOM (Individual Divs)</h3>
            <div class="fps-badge" id="dom-fps">FPS: ‚Äî</div>
          </div>
          <div class="arena-canvas" id="dom-arena"></div>
          <div class="arena-stats">
            <span>RAM: <span id="dom-memory">‚Äî</span></span>
            <span>Grade: <span id="dom-grade">‚Äî</span></span>
          </div>
        </div>
        
        <!-- Vector Arena -->
        <div class="arena-panel winner">
          <div class="arena-header">
            <h3>üéØ Vector (Single SVG)</h3>
            <div class="fps-badge" id="vector-fps">FPS: ‚Äî</div>
          </div>
          <div class="arena-canvas" id="vector-arena"></div>
          <div class="arena-stats">
            <span>RAM: <span id="vector-memory">‚Äî</span></span>
            <span>Grade: <span id="vector-grade">‚Äî</span></span>
          </div>
        </div>
      </div>
      
      <button id="stop-chaos" class="btn-primary" style="margin-top: 1rem;">
        üõë Stop Chaos
      </button>
    </section>

    <!-- Results Grid -->
    <section class="results-grid">
      <!-- Vector Card -->
      <article class="result-card winner">
        <div class="card-header">
          <h3>üéØ Vector Logic</h3>
          <span class="badge badge-success">Winner</span>
        </div>
        
        <div class="metrics">
          <div class="metric">
            <span class="metric-label">Payload Size</span>
            <span class="metric-value" id="vector-size">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Render Time</span>
            <span class="metric-value" id="vector-time">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">AI Score</span>
            <span class="metric-value" id="vector-ai-score">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Tokens (LLM)</span>
            <span class="metric-value" id="vector-tokens">‚Äî</span>
          </div>
        </div>
        
        <div class="preview" id="vector-preview">
          <!-- SVG will be injected here -->
        </div>
        
        <div class="advantages">
          <h4>‚ú® –ü–µ—Ä–µ–≤–∞–≥–∏:</h4>
          <ul>
            <li>–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –æ—Å–Ω–æ–≤–∞ (—Ñ–æ—Ä–º—É–ª–∏)</li>
            <li>–ë–µ–∑–∫—ñ–Ω–µ—á–Ω–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å</li>
            <li>–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä</li>
            <li>AI-friendly –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è</li>
            <li>–ï–∫—Å–ø–æ—Ä—Ç –≤ –±—É–¥—å-—è–∫–∏–π —Ñ–æ—Ä–º–∞—Ç</li>
          </ul>
        </div>
      </article>

      <!-- DOM Card -->
      <article class="result-card">
        <div class="card-header">
          <h3>üìÑ DOM/HTML</h3>
          <span class="badge">Traditional</span>
        </div>
        
        <div class="metrics">
          <div class="metric">
            <span class="metric-label">Payload Size</span>
            <span class="metric-value" id="dom-size">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Render Time</span>
            <span class="metric-value" id="dom-time">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">AI Score</span>
            <span class="metric-value" id="dom-ai-score">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Tokens (LLM)</span>
            <span class="metric-value" id="dom-tokens">‚Äî</span>
          </div>
        </div>
        
        <div class="preview" id="dom-preview">
          <!-- HTML will be injected here -->
        </div>
        
        <div class="disadvantages">
          <h4>‚ö†Ô∏è –ù–µ–¥–æ–ª—ñ–∫–∏:</h4>
          <ul>
            <li>–ì—Ä–æ–º—ñ–∑–¥–∫–∏–π markup</li>
            <li>–°–∫–ª–∞–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è AI</li>
            <li>–ë–∞–≥–∞—Ç–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ DOM</li>
            <li>–û–±–º–µ–∂–µ–Ω–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å</li>
          </ul>
        </div>
      </article>

      <!-- Figma Card -->
      <article class="result-card">
        <div class="card-header">
          <h3>üé® Figma Export</h3>
          <span class="badge">Design Tool</span>
        </div>
        
        <div class="metrics">
          <div class="metric">
            <span class="metric-label">Payload Size</span>
            <span class="metric-value" id="figma-size">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Render Time</span>
            <span class="metric-value" id="figma-time">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">AI Score</span>
            <span class="metric-value" id="figma-ai-score">‚Äî</span>
          </div>
          <div class="metric">
            <span class="metric-label">Tokens (LLM)</span>
            <span class="metric-value" id="figma-tokens">‚Äî</span>
          </div>
        </div>
        
        <div class="preview figma-preview">
          <code id="figma-preview-code">// JSON Export...</code>
        </div>
        
        <div class="disadvantages">
          <h4>‚ö†Ô∏è –ù–µ–¥–æ–ª—ñ–∫–∏:</h4>
          <ul>
            <li>–í–µ–ª–∏—á–µ–∑–Ω–∏–π —Ä–æ–∑–º—ñ—Ä JSON</li>
            <li>–°—Ç–∞—Ç–∏—á–Ω—ñ –¥–∞–Ω—ñ</li>
            <li>–ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è AI</li>
            <li>–ü–æ—Ç—Ä–µ–±—É—î –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó</li>
          </ul>
        </div>
      </article>
    </section>

    <!-- Export Formats Section -->
    <section class="export-section" id="export-section" style="display: none;">
      <h2>üì¶ Export Capabilities</h2>
      
      <div class="export-grid">
        <div class="export-card">
          <h4>React Native</h4>
          <div class="metric">
            <span class="metric-label">Size</span>
            <span class="metric-value" id="export-rn-size">‚Äî</span>
          </div>
          <button class="btn-small" onclick="downloadExport('reactnative')">Download .tsx</button>
        </div>
        
        <div class="export-card">
          <h4>SwiftUI</h4>
          <div class="metric">
            <span class="metric-label">Size</span>
            <span class="metric-value" id="export-swift-size">‚Äî</span>
          </div>
          <button class="btn-small" onclick="downloadExport('swiftui')">Download .swift</button>
        </div>
        
        <div class="export-card">
          <h4>PDF Instructions</h4>
          <div class="metric">
            <span class="metric-label">Size</span>
            <span class="metric-value" id="export-pdf-size">‚Äî</span>
          </div>
          <button class="btn-small" onclick="downloadExport('pdf')">Download .ps</button>
        </div>
      </div>
    </section>

    <!-- Converter Lab Section -->
    <section class="converter-lab" id="converter-lab">
      <div class="lab-header">
        <h2>üß¨ Universal Design Converter</h2>
        <p class="subtitle">Digital Liposuction for Figma/Adobe Exports</p>
      </div>
      
      <div class="converter-grid">
        <!-- Input Panel -->
        <div class="converter-panel input-panel">
          <div class="panel-header">
            <h3>üì• Input (Dirty SVG)</h3>
            <select id="input-format" class="format-select">
              <option value="auto">Auto-Detect Format</option>
              <option value="figma">Figma</option>
              <option value="adobe">Adobe Illustrator</option>
              <option value="sketch">Sketch</option>
            </select>
          </div>
          <div class="editor-container">
            <textarea id="input-code" placeholder="Paste your SVG code here..."></textarea>
          </div>
          <div class="panel-stats">
            <div class="stat">Size: <strong id="input-size">0 KB</strong></div>
            <div class="stat">Lines: <strong id="input-lines">0</strong></div>
            <div class="stat">Tokens: <strong id="input-tokens">0</strong></div>
          </div>
        </div>
        
        <!-- Controls -->
        <div class="converter-controls">
          <button id="analyze-btn" class="btn-primary btn-pulse">
            ‚ö° Analyze & Optimize
          </button>
          
          <div class="ai-score-meter">
            <div class="score-circle" data-score="0">
              <svg viewBox="0 0 36 36" class="circular-chart">
                <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
                <path class="circle" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" />
              </svg>
              <div class="score-content">
                <span class="score-number" id="ai-score-display">0</span>
                <span class="score-label">AI Score</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Output Panel -->
        <div class="converter-panel output-panel">
          <div class="panel-header">
            <h3>‚ú® Output (Vector Logic)</h3>
            <div class="actions">
              <button id="copy-output" class="btn-small">üìã Copy</button>
              <button id="download-output" class="btn-small">üíæ Save</button>
            </div>
          </div>
          <div class="editor-container">
            <textarea id="output-code" readonly placeholder="Optimized code will appear here..."></textarea>
          </div>
          <div class="panel-stats">
            <div class="stat success">Size: <strong id="output-size">0 KB</strong></div>
            <div class="stat success">Reduction: <strong id="reduction">0%</strong></div>
            <div class="stat success">AI Score: <strong id="ai-score">0</strong></div>
          </div>
        </div>
      </div>
      
      <!-- Analysis Dashboard -->
      <div class="analysis-dashboard" id="analysis-dashboard" style="display: none;">
        <h3>üìä Optimization Analysis</h3>
        
        <div class="metrics-grid">
          <div class="metric-card">
            <h4>Bytes Saved</h4>
            <div class="metric-value" id="bytes-saved">0</div>
            <div class="metric-desc">Total payload reduction</div>
          </div>
          <div class="metric-card">
            <h4>Patterns Detected</h4>
            <div class="patterns-card">
              <ul id="patterns-list" class="patterns-list"></ul>
            </div>
          </div>
          <div class="metric-card">
            <h4>Optimization Suggestions</h4>
            <div class="suggestions-panel">
              <ul id="suggestions-list" class="suggestions-list"></ul>
            </div>
          </div>
        </div>
        
        <div class="comparison-bar-container">
          <h4>Payload Comparison</h4>
          <div class="comparison-bar">
            <div class="bar-segment original" id="bar-original" style="width: 100%">Original</div>
            <div class="bar-segment optimized" id="bar-optimized" style="width: 0%">Optimized</div>
          </div>
        </div>
        
        <div class="token-savings">
          <h4>üí∞ LLM Token Savings (Estimated)</h4>
          <table class="token-table">
            <thead>
              <tr>
                <th>Model</th>
                <th>Before</th>
                <th>After</th>
                <th>Savings</th>
                <th>Cost Savings</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>GPT-4o</td>
                <td id="gpt4-before" class="before">0</td>
                <td id="gpt4-after" class="after">0</td>
                <td id="gpt4-savings" class="savings">0%</td>
                <td id="gpt4-cost" class="cost">$0.00</td>
              </tr>
              <tr>
                <td>Claude 3.5 Sonnet</td>
                <td id="claude-before" class="before">0</td>
                <td id="claude-after" class="after">0</td>
                <td id="claude-savings" class="savings">0%</td>
                <td id="claude-cost" class="cost">$0.00</td>
              </tr>
              <tr>
                <td>Gemini 1.5 Pro</td>
                <td id="gemini-before" class="before">0</td>
                <td id="gemini-after" class="after">0</td>
                <td id="gemini-savings" class="savings">0%</td>
                <td id="gemini-cost" class="cost">$0.00</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Efficiency Summary -->
    <section class="efficiency-summary">
      <h2>üìä Efficiency Analysis</h2>
      
      <div class="comparison-table">
        <table>
          <thead>
            <tr>
              <th>Metric</th>
              <th>Vector</th>
              <th>DOM</th>
              <th>Figma</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>File Size</td>
              <td class="winner-cell" id="table-vector-size">‚Äî</td>
              <td id="table-dom-size">‚Äî</td>
              <td id="table-figma-size">‚Äî</td>
            </tr>
            <tr>
              <td>AI Tokens</td>
              <td class="winner-cell" id="table-vector-tokens">‚Äî</td>
              <td id="table-dom-tokens">‚Äî</td>
              <td id="table-figma-tokens">‚Äî</td>
            </tr>
            <tr>
              <td>Scalability</td>
              <td class="winner-cell">‚ôæÔ∏è Infinite</td>
              <td>‚ö†Ô∏è Limited</td>
              <td>‚ùå Fixed</td>
            </tr>
            <tr>
              <td>Export Formats</td>
              <td class="winner-cell">‚úÖ All</td>
              <td>‚ö†Ô∏è Web only</td>
              <td>‚ùå Static</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="conclusion">
        <p class="conclusion-text">
          <strong>–í–∏—Å–Ω–æ–≤–æ–∫:</strong> –í–µ–∫—Ç–æ—Ä–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö —Ñ–æ—Ä–º—É–ª –∑–∞–±–µ–∑–ø–µ—á—É—î 
          <span class="highlight" id="efficiency-multiplier">‚Äî</span> –∫—Ä–∞—â—É –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, 
          –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –≥–Ω—É—á–∫—ñ—Å—Ç—å –¥–ª—è AI-–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–≥–æ –µ–∫—Å–ø–æ—Ä—Ç—É.
        </p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <p>Built with üíô for Diia.AI Contest 2025 | <a href="https://github.com/010io" target="_blank">@010io</a></p>
    <p class="mono">Code is Math. Design is Formula.</p>
  </footer>

  <!-- Scripts -->
  <!-- Utilities -->
  <script src="src/utils/fps-meter.js"></script>
  <script src="src/utils/memory-monitor.js"></script>
  <script src="src/utils/llm-cost-calculator.js"></script>
  <script src="src/utils/chaos-history.js"></script>
  
  <!-- Generators -->
  <script src="src/generators/vector-renderer.js"></script>
  <script src="src/generators/dom-renderer.js"></script>
  <script src="src/generators/figma-simulator.js"></script>
  <script src="src/generators/chaos-mode.js"></script>
  
  <!-- Core -->
  <script src="src/benchmark-engine.js"></script>
  <script src="src/export-engine.js"></script>
  
  <!-- Converter Lab -->
  <script type="module" src="src/utils/pattern-detector.js"></script>
  <script type="module" src="src/utils/token-estimator.js"></script>
  <script type="module" src="src/generators/optimizer-engine.js"></script>
  <script type="module" src="src/converter-lab.js"></script>

  <script src="src/app.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('‚úÖ Service Worker registered'))
          .catch(err => console.log('‚ùå SW registration failed:', err));
      });
    }
  </script>
</body>
</html>
